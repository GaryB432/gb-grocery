<section *ngIf="!!selectedStore; else loading">
  <select
    [(ngModel)]="selectedStorePlaceId"
    (ngModelChange)="changeStore($event)"
  >
    <option *ngFor="let nbs of nbStores" [value]="nbs.store.placeId">
      {{ nbs.store.name }}
    </option>
  </select>
  <section class="store-info">
    <section>
      <img [src]="selectedStore.store.icon" />
      <div class="vicinity">{{ selectedStore.store.vicinity }}</div>
    </section>
  </section>
  <img
    src="assets/img/powered_by_google_on_white.png"
    alt="powered by Google"
  />
</section>
<ng-template #loading>
  <div class="loader"></div>
</ng-template>
<div *ngIf="neededThings.length === 0" class="no-items">
  <h1>You don't need anything</h1>
  <p>
    Head back over to <a [routerLink]="['/home']">Items</a> and switch on some
    items that you need. They will appear here for you to pick up.
  </p>
</div>
<article
  *ngFor="let pu of neededThings"
  class="card"
  [@cbhState]="pu.picked ? 'picked' : 'notpicked'"
>
  <div (click)="togglePicked(pu)" class="cbholder">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      viewBox="1 0 10 10"
      fill="currentColor"
      [@checkState]="pu.picked ? 'picked' : 'notpicked'"
    >
      <path d="M5 0H7V4H11V6H7V10H5V6h-4V4H5Z"></path>
    </svg>
  </div>

  <gbg-store-pickup
    class="info"
    [pickup]="pu"
    (aisleChanged)="pickupChanged($event)"
  ></gbg-store-pickup>
</article>
<section class="brow">
  <button [disabled]="!checkoutReady()" (click)="addCheckout()">
    Check Out
  </button>
</section>
<div class="distance">{{ selectedStore?.distance | number: '1.2-3' }}</div>

<div id="map"></div>
